网络空间安全学院（密码学院）
2025-2026学年度第1学期
  J00715网络安全与系统课程设计 课程论文
论文题目：  高校图书馆基于三层交换机ACL                         
             的VLAN隔离与终端访问控制                           
学生学号及姓名：20233001361张丁峰
学生所在班级：密码科学与技术1班
论文提交时间：2025年1月4日
授课教师：



高校图书馆网络基于三层交换机 ACL 的 VLAN 隔离
与终端访问控制
一、课程设计任务与要求
1.课程设计目标
本课程设计旨在构建一个适用于高校图书馆内部网络的基础防火墙访问控制系统，通过合理的网络规划，实现不同角色（管理人员、服务器、学生终端）之间的网络隔离与受控访问。设计目标明确、可操作，强调教学与安全实践结合，便于学生掌握 VLAN、三层交换与 ACL 的核心知识。
具体目标如下：
构建三层交换机 + 多 VLAN 的基本网络结构，实现不同安全域的逻辑隔离；
设计并部署基于 ACL 的访问控制策略，保障管理终端与学生终端间的权限边界；
确保管理 VLAN 可访问学生 VLAN，用于日常运维与管理；
限制学生 VLAN 对管理 VLAN 的访问，防止越权操作；
完成配置验证，包括 ARP、ICMP 连通性及 ACL 生效验证；
提供可复现的测试方法与记录，形成完整课程设计报告。
通过本设计，学生可以系统理解 VLAN、三层交换机、ACL 及网络安全隔离的原理，并具备在实验环境中独立搭建与验证网络安全策略的能力。

2.选题背景与意义
高校图书馆网络面对两类明显不同的用户群体：
1.管理人员终端：固定终端，承担资源管理、服务器维护、系统监控等职责；
2.学生终端：数量庞大，随机接入，包括笔记本、手机、平板等，安全性和可控性差。
在传统平面网络结构下，所有终端处于同一广播域内，存在以下问题：
管理终端容易被未经授权访问；
学生终端一旦感染病毒或木马，可能扩散至整个网络；
故障排查与访问审计困难，安全事件响应时间长；
网络结构缺乏清晰边界，安全隐患显著。
因此，本设计通过 VLAN 分区与 ACL 策略，以轻量化方式实现管理区、服务器区、学生区的隔离，使得：
网络结构清晰，便于运维与管理；
学生终端受限访问，降低安全风险；
管理终端可维持对学生和服务器区的访问，实现日常维护。
3.技术指标
VLAN 划分：至少包括管理 VLAN（VLAN10）、服务器 VLAN（VLAN20）、学生 VLAN（VLAN30）；
三层交换机配置：每个 VLAN 配置 SVI 作为网关，实现基础三层路由；
ACL 配置：管理 VLAN 可访问学生 VLAN，学生 VLAN 不可访问管理 VLAN，学生 VLAN 可访问服务器 VLAN 提供必要服务；
网络连通性测试：包括 ARP、ICMP、跨 VLAN 访问验证；
配置验证：通过 show 命令确认 VLAN、SVI、ACL 配置正确，并通过 ping、telnet 或浏览器访问进行实际验证。

二、需求分析
1.用户现状分析
当前高校图书馆网络存在以下特点：
终端数量庞大，包括固定管理终端、服务器节点以及随机接入的学生终端；
学生终端接入高度随机，包括笔记本、平板和手机，缺乏统一安全基线；
网络结构以二层交换为主，管理终端和学生终端逻辑上处于同一广播域，缺乏有效隔离；
管理策略缺失，学生可以访问管理 VLAN 或服务器的部分服务，存在越权和信息泄露风险；
故障排查和安全事件追踪困难，广播域过大容易造成 ARP 冲突或网络延迟。
通过本课程设计，需要在此基础上进行网络重构，实现 VLAN 隔离和 ACL 控制，从而提升机密性、完整性和可用性。
2.安全需求分析
机密性：确保管理终端与学生终端隔离，学生 VLAN 不可访问管理 VLAN；
完整性：禁止学生访问管理设备后台端口，防止误操作或篡改配置；
可用性：管理终端仍能访问学生 VLAN 和服务器 VLAN，保证日常运维与监控；
最小权限原则：仅开放必要的访问方向，避免全互通造成安全风险。
3.功能需求
VLAN 分区实现基础逻辑隔离；
SVI 配置实现跨 VLAN 三层互通；
ACL 配置实现基于流向和接口的访问控制策略；
通过 ping、telnet 等方法进行访问验证，确保策略生效。
4.非功能需求
性能：ACL 不应显著降低交换机转发效率；
可扩展性：为未来增加教师 VLAN 或 DMZ 预留接口与 VLAN ID；
易维护性：配置结构清晰，注释完整，便于后续修改或扩展。
三、总体设计方案
1.安全架构设计
采用“三层交换机 + 多安全域”的轻量化架构：
Management（VLAN10）：管理终端使用，用于日常维护和运维操作；
Server（VLAN20）：服务器区，提供图书馆内部资源服务；
Student（VLAN30）：学生终端区，受控访问服务器区，禁止访问管理区。
通过 SVI 实现三层路由，ACL 实现不同 VLAN 间的访问控制，实现最基本的安全隔离和受控访问。
2.网络拓扑设计
管理 PC、学生 PC、服务器分别接入不同 VLAN 端口；
交换机内部创建对应 SVI，用作默认网关；
ACL 配置应用在学生 VLAN 出口，实现访问限制。
3.技术选型
模拟器：Cisco Packet Tracer ，用于实验和验证；
IPv4 子网划分：管理 VLAN、服务器 VLAN、学生 VLAN 使用不同网段；
ACL 类型：扩展 ACL，用于基于源/目的 IP 地址和协议控制访问；
配置方式：通过命令行接口实现 VLAN、SVI、ACL 的配置。
4.安全策略
允许：管理 VLAN → 学生 VLAN，保证运维可达；
禁止：学生 VLAN → 管理 VLAN，防止越权；
允许：学生 VLAN → 服务器 VLAN，满足基本业务需求；
默认允许：其他方向流量可按需开放，便于测试。
四、详细设计与实现
1.VLAN 配置与 SVI 建立
目的：实现二层广播域隔离，为三层互通和 ACL 配置提供基础结构。
示例配置：
vlan 10
name Management
vlan 20
name Server
vlan 30
name Student

interface vlan10
ip address 192.168.10.1 255.255.255.0
no shutdown

interface vlan20
ip address 192.168.20.1 255.255.255.0
no shutdown

interface vlan30
ip address 192.168.30.1 255.255.255.0
no shutdown

2.PC 终端配置
PC 设置示例：
管理端：192.168.10.10 / 192.168.10.1
学生端：192.168.30.10 / 192.168.30.1
服务器端：192.168.20.10 / 192.168.20.1
通过设置 IP 和网关，实现跨 VLAN 基础连通性。
3.ACL 访问控制设计
目的：基于流量方向判断访问权限，保障管理端可访问学生 VLAN，学生端不能访问管理 VLAN。
示例 ACL：
access-list 100 deny ip 192.168.30.0 0.0.0.255 192.168.10.0 0.0.0.255
access-list 100 permit ip any any
interface vlan30
ip access-group 100 in
4.连通性测试
目的：验证 ARP、ICMP 及 ACL 是否生效。
测试结果示例：
管理 ping 学生：成功
学生 ping 管理：拒绝
学生访问服务器：成功
管理访问服务器：成功
删除 ACL 后：所有方向互通，验证 ACL 确实生效
5. 防火墙与内部策略部署
1.关于防火墙功能验证的说明：
受限于实验环境（Cisco Packet Tracer）的设备模型，本次实验中的 ASA 5505 防火墙主要功能集中于 安全域设计 和 安全边界功能阐述。对于以下真实环境中防火墙 的核心职责，我们仅在设计中进行了阐述：
网络地址转换 (NAT)： 在真实的互联网出口部署中，防火墙将负责内网 IP 地址到公网 IP 地址的转换，以实现所有内部用户共享公网访问。
安全日志与监控： 真实的防火墙会提供详细的会话日志、威胁告警和图形化监控，这是我们进行入侵检测和故障排查的关键依据。
2.安全域隔离与分层控制
对于 东西向流量（VLAN 间互访），我们采用 分层安全 的设计理念：
设计原则： 为了优化网络性能，同时避免所有内部互访流量绕行防火墙（单臂路由模式下可能产生瓶颈），我们选择将 L3/L4 过滤工作下沉至核心交换机。
实现方式： 在三层交换机上配置 VLAN 接口作为网关，并利用交换机 ASIC 芯片 的高速过滤能力，在 VLAN 30 的 SVI 接口上应用 ACL，实现了管理网段、服务器网段与学生网段的物理隔离和策略化访问控制。
防火墙的角色： 防火墙专注于 南北向流量（内网与外网）的边界安全防护和未来的 NAT 扩展。
3. L3/L4 策略控制验证
本次实验的 L3/L4 流量控制验证，主要通过观察 交换机 ACL 的精确拦截和放行 来体现。这证明了我们对第三层（IP 地址）和第四层（协议/端口）策略控制的有效掌握：
精确拦截验证：
策略： deny ip 192.168.30.0 0.0.0.255 192.168.10.0 0.0.0.255
结果： 验证了学生 PC 无法访问管理网段。同时，在排错中，通过引入 permit icmp ... echo-reply 规则，证明了我们能够精确地在 IP 拒绝之前，基于协议类型（ICMP）实现微调。这充分体现了对 L3 和 L4（协议层）的精确控制。
精确放行验证：
策略： permit ip 192.168.30.0 0.0.0.255 192.168.20.0 0.0.0.25
结果： 验证了学生 PC 能够正常访问服务器网段。
总结： 通过在交换机上成功部署和验证 ACL 规则，我们证明了核心控制逻辑是正确的。在真实环境中，这些 L3/L4 策略可以无缝迁移至防火墙的 Access-List 或安全策略 中，由防火墙进行状态化检测和管理，从而实现更高级别的安全保障。
五、测试与验证
1.功能测试
包括跨 VLAN 互通、ACL 阻断验证、服务器访问测试。结果表明 ACL 工作正常，策略生效。
2.渗透式验证
模拟学生终端尝试访问管理 VLAN，通过 ping、telnet 或浏览器访问，均被 ACL 阻断，验证策略有效。
3.性能测试
实验环境下开启 ACL 后，交换机延迟无明显增加，满足性能需求。
六、总结与展望 
6.1 项目完成与关键成果 
本项目基于纵深防御的理念，成功构建了一个多 VLAN 网络环境，并实现了安全区域的隔离与控制。主要完成内容包括：
多 VLAN 网络架构搭建： 成功在三层交换机上配置 VLAN 接口（SVI），划分了管理、服务器和学生三个安全域。
基于高性能 ACL 的访问控制实现： 成功利用三层交换机 ACL 对内部东西向流量进行了精确的 L3/L4 策略控制，实现了学生网段对管理网段的单向隔离。
无状态 ACL 机制的深度分析与修复： 针对模拟器环境中 ACL 无法自动处理回包的特性，通过引入 permit icmp echo-reply 规则，解决了跨 VLAN Ping 通信中的回包阻断问题，充分展示了对无状态 ACL 机制的理解。
网络测试与验证： 验证了 ACL 策略逻辑的有效性，达到了学生禁止访问管理、学生允许访问服务器的设计目标。
6.2 创新点与技术亮点
分层安全架构的应用： 采取“核心 ACL 内部隔离 + 防火墙边界设计”的混合模式，有效平衡了内部流量的转发性能与安全策略的执行力度
利用核心交换机 ACL 实现分层隔离： 将策略控制下沉至交换机，利用其 ASIC 芯片 的高速过滤能力，实现了内部流量的高性能、分层隔离。
对比分析与原理验证： 解决了模拟器中 ACL 产生的流量方向差异，本质上对比和验证了无状态 ACL与有状态防火墙在处理双向流量时的机制区别。
6.3 实验局限与后续改进方向
不足与局限：
功能验证受限： 受限于实验环境（Cisco Packet Tracer）的设备模型，未能完整验证防火墙的 有状态检测、NAT/PAT 和 VPN 等核心功能。
高级防护缺失： 本项目安全控制仍停留在 L3/L4 基础过滤，未涉及应用层过滤（DPI）、入侵检测系统（IDS）等高级防护机制
后续改进方向：
策略迁移与功能升级： 将当前的 ACL 逻辑策略迁移到真实的防火墙平台，以实现 集中管理、有状态检测、详细日志监控和 威胁告警。
精细化策略部署： 引入额外的 VLAN（如访客区或 DMZ 区域），并探索基于 RBAC的策略模型。
引入真实安全组件： 部署独立的 IDS/IPS 设备或利用防火墙的高级功能模块，验证更复杂的恶意流量防御策略。
七、参考文献
[1] Cisco 官方文档：Cisco Catalyst Switch Configuration Guide
[2] 《数据通信与计算机网络(第五版)》杨心强   陈国友
八、附录
附录 A：核心配置代码
交换机配置
1. VLAN 与网关 SVI 配置
vlan 10
 name Management
vlan 20
 name Server
vlan 30
 name Student
interface Vlan10
 ip address 192.168.10.1 255.255.255.0
 no shutdown
interface Vlan20
 ip address 192.168.20.1 255.255.255.0
 no shutdown
interface Vlan30
 ip address 192.168.30.1 255.255.255.0
 no shutdown

ip routing
2. 端口划分 VLAN
interface Fa0/1
 switchport access vlan 10
interface Fa0/2
 switchport access vlan 20
interface Fa0/3
 switchport access vlan 30
interface Fa0/4
 switchport access vlan 30
interface Fa0/5
 switchport access vlan 10
访问控制列表 ACL
1. ACL 规则
ip access-list extended 100
 #允许学生给管理发送 Ping 回复包
 permit icmp 192.168.30.0 0.0.0.255 192.168.10.0 0.0.0.255 echo-reply
  #允许学生给管理发送 "目标不可达" 等控制信息 
 permit icmp 192.168.30.0 0.0.0.255 192.168.10.0 0.0.0.255 unreachable
  #拒绝其他所有从学生到管理的 IP 流量
 deny ip 192.168.30.0 0.0.0.255 192.168.10.0 0.0.0.255
   #允许访问服务器
 permit ip 192.168.30.0 0.0.0.255 192.168.20.0 0.0.0.255
 # 放行其他
 permit ip any any

2. ACL 绑定（入方向）
interface Vlan30
 ip access-group 100 in
PC 终端地址配置
# 管理 PC（VLAN10）
IP: 192.168.10.11
Mask: 255.255.255.0
Gateway: 192.168.10.1
# 服务器（VLAN20）
IP: 192.168.20.10
Mask: 255.255.255.0
Gateway: 192.168.20.1
# 学生 PC（VLAN30）
IP: 192.168.30.11
Mask: 255.255.255.0
Gateway: 192.168.30.1
附录 B：测试记录截图
1.管理机 ping学生机

2.学生机ping管理机

3.管理机ping 服务器

4.学生机ping 服务器

5.交换机接口状态


6.访问控制列表ACL

7.Mac表

8.Arp表

附录 C：拓扑结构图 

